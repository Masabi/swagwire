plugins {
    id 'java'
    id 'idea'
    id 'groovy'
    id 'org.hidetake.swagger.generator' version "2.9.0"
}

repositories {
    mavenLocal()
    jcenter()
}

dependencies {
    
    // generated client deps
    compile(
        "io.swagger:swagger-annotations:$swaggerVersion",
        "org.glassfish.jersey.core:jersey-client:$jerseyVersion",
        "org.glassfish.jersey.media:jersey-media-multipart:$jerseyVersion",
        "org.glassfish.jersey.media:jersey-media-json-jackson:$jerseyVersion",
        "com.fasterxml.jackson.datatype:jackson-datatype-jsr310:$jacksonVersion",
//        "com.brsanthu:migbase64:$migVersion",
    )

    testCompile(
        "io.swagger:swagger-annotations:$swaggerVersion",
        "org.spockframework:spock-core:$spockVersion",
    )
    
    // test client deps
    testCompile(
        "com.github.tomakehurst:wiremock:$wiremockVersion",

    )
    
    // TODO not sure if this will be the thing finally used or not - seems it would be better to use
    // whatever default mapping system the codegen would use - but does this really matter - it should
    // all be standard JSON anyway??
    testCompile(
//        "com.squareup.okhttp3:okhttp:3.9.1",
//        "com.squareup.okhttp3:okio:3.9.1",
            'net.dongliu:gson-java8-datatype:1.1.0',
        'com.google.code.gson:gson:2.8.2'
    )
}

apply from: 'swagger-codegen.gradle'